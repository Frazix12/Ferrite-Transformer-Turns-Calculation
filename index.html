<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style.css" />
  </head>

  <body>
    <div class="container">
      <div class="hero">
        <img src="bg.png" alt="" class="hero-image" />
        <div class="hero-content">
          <div class="row">
            <div class="column">
              <div class="primary-specs">
                <div class="spec-item">
                  <div class="spec-label">Primary Voltage (V)</div>
                  <input type="number" class="spec-value" id="Vprimary" />
                  <div class="spec-label">Frequency (KHz)</div>
                  <input type="number" class="spec-value" id="Frequency" />
                  <div class="spec-label">Core Effective Area (CmÂ²)</div>
                  <input type="number" class="spec-value" id="Carea" />
                  <div class="spec-label">Bmax (G)</div>
                  <input type="number" class="spec-value" id="Bmax" />
                  <div class="primary-turns"><p id="Npri"></p></div>
                </div>
                <div class="bmax-check">
                  <div class="bmax-label">Bmax CHECKING</div>
                  <div class="npri-label">Npri (G)</div>
                  <input type="number" class="spec-value" id="NpriR" />
                  <div class="bmax-value"><p id="BmaxR"></p></div>
                </div>
              </div>
            </div>
            <div class="column">
              <div class="secondary-specs">
                <div class="output-specs">
                  <div class="output-voltage">Output Voltage (V)</div>
                  <input type="number" class="spec-value" id="Vout" />
                  <div class="output-current">Output Current (A)</div>
                  <input type="number" class="spec-value" id="Iout" />
                  <div class="output-power"><p id="P"></p></div>
                  <div class="nsec"><p id="Nsec"></p></div>
                  <div class="volt-per-turn"><p id="Volt/Turn"></p></div>
                </div>
                <div class="wire-specs">
                  <div class="secondary-wire-size">
                    Secondary Wire size (mm)
                  </div>
                  <input type="number" class="spec-value" id="Second" />
                  <div class="primary-wire-size">Primary Wire Size (mm)</div>
                  <input type="number" class="spec-value" id="Pri" />
                  <div class="secondary-parallel">
                    <p id="SecondX"></p>
                  </div>
                  <div class="primary-parallel">
                    <p id="PriX"></p>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="winding-specs">
            <div class="primary-winding">
              <span style="font-weight: 400; color: rgba(91, 235, 255, 1)"
                >Primary Turn</span
              >
              <span id="result-1" style="font-weight: 400"></span>
            </div>
            <div class="secondary-winding">
              <span style="font-weight: 400; color: rgba(91, 235, 255, 1)"
                >Secondary Turn</span
              >
              <span id="result-2" style="font-weight: 400"
                >= Nsec ( Secondary Wire Size X 1)</span
              >
            </div>
          </div>
        </div>
      </div>
    </div>
    <footer>
      made by
      <a
        href="http://github.com/Frazix12"
        target="_blank"
        rel="noopener noreferrer"
        >Frazix</a
      >
    </footer>
    <script>
      function GetNpri() {
        const Vin = document.getElementById("Vprimary").value,
          Hz = document.getElementById("Frequency").value,
          Ae = document.getElementById("Carea").value,
          Bmax = document.getElementById("Bmax").value,
          Npri = ((Vin * 1e8) / (4 * Hz * Bmax * Ae * 1e3)).toFixed(2);
        document.getElementById("Npri").textContent = `Npri = ${Npri} Turn`;
      }
      setInterval(GetNpri, 100);
      function GetOut() {
        var Vin = document.getElementById("Vprimary").value,
          Hz = document.getElementById("Frequency").value,
          Ae = document.getElementById("Carea").value,
          Bmax = document.getElementById("Bmax").value,
          Npri = ((Vin * 1e8) / (4 * Hz * Bmax * Ae * 1e3)).toFixed(2);
        var Vout = document.getElementById("Vout").value;
        var Iout = document.getElementById("Iout").value;
        var P = (Vout * Iout).toFixed(2);
        var VTurn = (Vin / Npri).toFixed(2);
        document.getElementById("P").textContent = `P = ${P} W`;
        document.getElementById(
          "Volt/Turn"
        ).textContent = `Volt/Turn = ${VTurn}`;
        document.getElementById("Nsec").textContent = `Nsec = ${(
          Vout / VTurn
        ).toFixed(2)}`;
      }
      setInterval(GetOut, 100);
      function getWire() {
        var Vin = document.getElementById("Vprimary").value;
        var Vout = document.getElementById("Vout").value;
        var Iout = document.getElementById("Iout").value;
        var P = (Vout * Iout).toFixed(2);
        var Iin = (P / Vin).toFixed(2);
        var Pri = document.getElementById("Pri").value;
        var Second = document.getElementById("Second").value;
        var Cdensity = 5;
        function wireParalallel(Iout, Cdensity, Second) {
          var result = (Iout * 0.9) / (Cdensity + 5) / (Second * Second * 1);
          if (result < 1) {
            return 1;
          } else {
            return result;
          }
        }
        function PriX(Iin, Cdensity, Pri) {
          var result = (Iin * 0.9) / (Cdensity + 5) / (Pri * Pri * 0.9);
          if (result < 1) {
            return 1;
          } else {
            return result;
          }
        }

        document.getElementById(
          "SecondX"
        ).textContent = `Secondary Wire in Parallel X = ${Math.round(
          wireParalallel(Iout, Cdensity, Second)
        )}`;
        document.getElementById(
          "PriX"
        ).textContent = `Primary Wire in Parallel X = ${Math.round(
          PriX(Iin, Cdensity, Pri)
        )}`;
      }
      setInterval(getWire, 100);
      function GetBmax() {
        const Vin = document.getElementById("Vprimary").value,
          Hz = document.getElementById("Frequency").value,
          Ae = document.getElementById("Carea").value,
          NpriR = document.getElementById("NpriR").value;
        var BmaxR = ((Vin * 100000000) / (4 * Hz * NpriR * 1000 * Ae)).toFixed(
          2
        );
        document.getElementById("BmaxR").textContent = `Bmax = ${BmaxR} G`;
      }
      setInterval(GetBmax, 100);
      function result() {
        var Vin = document.getElementById("Vprimary").value;
        var Hz = document.getElementById("Frequency").value;
        var Ae = document.getElementById("Carea").value;
        var Bmax = document.getElementById("Bmax").value;
        var Npri = ((Vin * 1e8) / (4 * Hz * Bmax * Ae * 1e3)).toFixed(2);
        var Vout = document.getElementById("Vout").value;
        var Iout = document.getElementById("Iout").value;
        var P = (Vout * Iout).toFixed(2);
        var VTurn = (Vin / Npri).toFixed(2);
        var Iin = (P / Vin).toFixed(2);
        var Pri = document.getElementById("Pri").value;
        var Second = document.getElementById("Second").value;
        var Cdensity = 5;
        function wireParalallel(Iout, Cdensity, Second) {
          var result = (Iout * 0.9) / (Cdensity + 5) / (Second * Second * 1);
          if (result < 1) {
            return 1;
          } else {
            return result;
          }
        }
        function PriX(Iin, Cdensity, Pri) {
          var result = (Iin * 0.9) / (Cdensity + 5) / (Pri * Pri * 0.9);
          if (result < 1) {
            return 1;
          } else {
            return result;
          }
        }

        document.getElementById(
          "result-1"
        ).textContent = `= ${Npri} ( ${Pri} X ${Math.round(
          PriX(Iin, Cdensity, Pri)
        )})`;
        document.getElementById("result-2").textContent = `= ${(
          Vout / VTurn
        ).toFixed(2)} ( ${Second} X ${Math.round(
          wireParalallel(Iout, Cdensity, Second)
        )})`;
      }
      setInterval(result, 100);
    </script>
  </body>
</html>
